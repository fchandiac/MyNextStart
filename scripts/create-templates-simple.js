/**
 * Script simple para crear plantillas de ejemplo
 * Ejecutar con: node scripts/create-templates-simple.js
 */

const sampleTemplates = [
  {
    name: "Plantilla Básica - Solo Humedad",
    useToleranceGroup: false,
    groupToleranceValue: 0,
    availableHumedad: true,
    percentHumedad: 14,
    toleranceHumedad: 1.5,
    showToleranceHumedad: true,
    groupToleranceHumedad: false,
    availableGranosVerdes: false,
    availableImpurezas: false,
    availableVano: false,
    availableHualcacho: false,
    availableGranosPelados: false,
    availableGranosYesosos: false,
    availableGranosManchados: false,
    availableBonificacion: false,
    availableSecado: false,
  },

  {
    name: "Plantilla Completa - Todos los Parámetros",
    useToleranceGroup: false,
    groupToleranceValue: 0,
    availableHumedad: true,
    percentHumedad: 14,
    toleranceHumedad: 1.5,
    showToleranceHumedad: true,
    groupToleranceHumedad: false,
    availableGranosVerdes: true,
    percentGranosVerdes: 5,
    toleranceGranosVerdes: 1,
    showToleranceGranosVerdes: true,
    groupToleranceGranosVerdes: false,
    availableImpurezas: true,
    percentImpurezas: 3,
    toleranceImpurezas: 0.5,
    showToleranceImpurezas: true,
    groupToleranceImpurezas: false,
    availableVano: true,
    percentVano: 2,
    toleranceVano: 0.5,
    showToleranceVano: true,
    groupToleranceVano: false,
    availableHualcacho: true,
    percentHualcacho: 1.5,
    toleranceHualcacho: 0.3,
    showToleranceHualcacho: true,
    groupToleranceHualcacho: false,
    availableGranosPelados: true,
    percentGranosPelados: 2.5,
    toleranceGranosPelados: 0.5,
    showToleranceGranosPelados: true,
    groupToleranceGranosPelados: false,
    availableGranosYesosos: true,
    percentGranosYesosos: 3,
    toleranceGranosYesosos: 0.5,
    showToleranceGranosYesosos: true,
    groupToleranceGranosYesosos: false,
    availableGranosManchados: true,
    percentGranosManchados: 2,
    toleranceGranosManchados: 0.3,
    showToleranceGranosManchados: true,
    groupToleranceGranosManchados: false,
    availableBonificacion: true,
    toleranceBonificacion: 2,
    availableSecado: true,
    percentSecado: 15,
  },

  {
    name: "Plantilla Grupo Tolerancia - Parámetros Principales",
    useToleranceGroup: true,
    groupToleranceValue: 8,
    availableHumedad: true,
    percentHumedad: 14,
    toleranceHumedad: 1.5,
    showToleranceHumedad: false,
    groupToleranceHumedad: true,
    availableGranosVerdes: true,
    percentGranosVerdes: 5,
    toleranceGranosVerdes: 1,
    showToleranceGranosVerdes: false,
    groupToleranceGranosVerdes: true,
    availableImpurezas: true,
    percentImpurezas: 3,
    toleranceImpurezas: 0.5,
    showToleranceImpurezas: false,
    groupToleranceImpurezas: true,
    availableVano: true,
    percentVano: 2,
    toleranceVano: 0.5,
    showToleranceVano: true,
    groupToleranceVano: false,
    availableHualcacho: false,
    availableGranosPelados: false,
    availableGranosYesosos: false,
    availableGranosManchados: false,
    availableBonificacion: true,
    toleranceBonificacion: 1.5,
    availableSecado: false,
  },

  {
    name: "Plantilla Calidad Premium - Tolerancias Estrictas",
    useToleranceGroup: false,
    groupToleranceValue: 0,
    availableHumedad: true,
    percentHumedad: 13.5,
    toleranceHumedad: 0.5,
    showToleranceHumedad: true,
    groupToleranceHumedad: false,
    availableGranosVerdes: true,
    percentGranosVerdes: 3,
    toleranceGranosVerdes: 0.5,
    showToleranceGranosVerdes: true,
    groupToleranceGranosVerdes: false,
    availableImpurezas: true,
    percentImpurezas: 1.5,
    toleranceImpurezas: 0.2,
    showToleranceImpurezas: true,
    groupToleranceImpurezas: false,
    availableGranosManchados: true,
    percentGranosManchados: 1,
    toleranceGranosManchados: 0.1,
    showToleranceGranosManchados: true,
    groupToleranceGranosManchados: false,
    availableVano: false,
    availableHualcacho: false,
    availableGranosPelados: false,
    availableGranosYesosos: false,
    availableBonificacion: true,
    toleranceBonificacion: 3,
    availableSecado: true,
    percentSecado: 12,
  },

  {
    name: "Plantilla Estándar - Parámetros Básicos",
    useToleranceGroup: false,
    groupToleranceValue: 0,
    availableHumedad: true,
    percentHumedad: 14.5,
    toleranceHumedad: 2,
    showToleranceHumedad: true,
    groupToleranceHumedad: false,
    availableGranosVerdes: true,
    percentGranosVerdes: 6,
    toleranceGranosVerdes: 1.5,
    showToleranceGranosVerdes: true,
    groupToleranceGranosVerdes: false,
    availableImpurezas: true,
    percentImpurezas: 4,
    toleranceImpurezas: 1,
    showToleranceImpurezas: true,
    groupToleranceImpurezas: false,
    availableVano: false,
    availableHualcacho: false,
    availableGranosPelados: false,
    availableGranosYesosos: false,
    availableGranosManchados: false,
    availableBonificacion: false,
    availableSecado: true,
    percentSecado: 16,
  },

  {
    name: "Plantilla Flexible - Con Bonificación",
    useToleranceGroup: false,
    groupToleranceValue: 0,
    availableHumedad: true,
    percentHumedad: 15,
    toleranceHumedad: 2.5,
    showToleranceHumedad: true,
    groupToleranceHumedad: false,
    availableGranosVerdes: true,
    percentGranosVerdes: 7,
    toleranceGranosVerdes: 2,
    showToleranceGranosVerdes: true,
    groupToleranceGranosVerdes: false,
    availableImpurezas: true,
    percentImpurezas: 5,
    toleranceImpurezas: 1.5,
    showToleranceImpurezas: true,
    groupToleranceImpurezas: false,
    availableVano: true,
    percentVano: 3,
    toleranceVano: 1,
    showToleranceVano: true,
    groupToleranceVano: false,
    availableHualcacho: false,
    availableGranosPelados: true,
    percentGranosPelados: 3,
    toleranceGranosPelados: 1,
    showToleranceGranosPelados: true,
    groupToleranceGranosPelados: false,
    availableGranosYesosos: false,
    availableGranosManchados: false,
    availableBonificacion: true,
    toleranceBonificacion: 2.5,
    availableSecado: true,
    percentSecado: 18,
  },

  {
    name: "Plantilla Mixta - Grupo + Individual",
    useToleranceGroup: true,
    groupToleranceValue: 6,
    availableHumedad: true,
    percentHumedad: 14,
    toleranceHumedad: 1.5,
    showToleranceHumedad: false,
    groupToleranceHumedad: true,
    availableGranosVerdes: true,
    percentGranosVerdes: 5,
    toleranceGranosVerdes: 1,
    showToleranceGranosVerdes: false,
    groupToleranceGranosVerdes: true,
    availableImpurezas: true,
    percentImpurezas: 3,
    toleranceImpurezas: 0.8,
    showToleranceImpurezas: true,
    groupToleranceImpurezas: false,
    availableVano: true,
    percentVano: 2,
    toleranceVano: 0.5,
    showToleranceVano: true,
    groupToleranceVano: false,
    availableHualcacho: true,
    percentHualcacho: 1.5,
    toleranceHualcacho: 0.3,
    showToleranceHualcacho: false,
    groupToleranceHualcacho: true,
    availableGranosPelados: false,
    availableGranosYesosos: false,
    availableGranosManchados: false,
    availableBonificacion: true,
    toleranceBonificacion: 1.8,
    availableSecado: true,
    percentSecado: 15,
  },

  {
    name: "Plantilla Especializada - Defectos Visuales",
    useToleranceGroup: false,
    groupToleranceValue: 0,
    availableHumedad: true,
    percentHumedad: 14,
    toleranceHumedad: 1.5,
    showToleranceHumedad: true,
    groupToleranceHumedad: false,
    availableGranosVerdes: false,
    availableImpurezas: false,
    availableVano: false,
    availableHualcacho: false,
    availableGranosPelados: true,
    percentGranosPelados: 4,
    toleranceGranosPelados: 1,
    showToleranceGranosPelados: true,
    groupToleranceGranosPelados: false,
    availableGranosYesosos: true,
    percentGranosYesosos: 5,
    toleranceGranosYesosos: 1.5,
    showToleranceGranosYesosos: true,
    groupToleranceGranosYesosos: false,
    availableGranosManchados: true,
    percentGranosManchados: 3,
    toleranceGranosManchados: 0.8,
    showToleranceGranosManchados: true,
    groupToleranceGranosManchados: false,
    availableBonificacion: false,
    availableSecado: true,
    percentSecado: 16,
  },

  {
    name: "Plantilla Económica - Tolerancias Amplias",
    useToleranceGroup: false,
    groupToleranceValue: 0,
    availableHumedad: true,
    percentHumedad: 16,
    toleranceHumedad: 3,
    showToleranceHumedad: true,
    groupToleranceHumedad: false,
    availableGranosVerdes: true,
    percentGranosVerdes: 8,
    toleranceGranosVerdes: 2.5,
    showToleranceGranosVerdes: true,
    groupToleranceGranosVerdes: false,
    availableImpurezas: true,
    percentImpurezas: 6,
    toleranceImpurezas: 2,
    showToleranceImpurezas: true,
    groupToleranceImpurezas: false,
    availableVano: true,
    percentVano: 4,
    toleranceVano: 1.5,
    showToleranceVano: true,
    groupToleranceVano: false,
    availableHualcacho: true,
    percentHualcacho: 3,
    toleranceHualcacho: 1,
    showToleranceHualcacho: true,
    groupToleranceHualcacho: false,
    availableGranosPelados: true,
    percentGranosPelados: 5,
    toleranceGranosPelados: 2,
    showToleranceGranosPelados: true,
    groupToleranceGranosPelados: false,
    availableGranosYesosos: true,
    percentGranosYesosos: 6,
    toleranceGranosYesosos: 2,
    showToleranceGranosYesosos: true,
    groupToleranceGranosYesosos: false,
    availableGranosManchados: true,
    percentGranosManchados: 4,
    toleranceGranosManchados: 1.5,
    showToleranceGranosManchados: true,
    groupToleranceGranosManchados: false,
    availableBonificacion: false,
    availableSecado: true,
    percentSecado: 20,
  },

  {
    name: "Plantilla Experimental - Configuración Avanzada",
    useToleranceGroup: true,
    groupToleranceValue: 10,
    availableHumedad: true,
    percentHumedad: 13.8,
    toleranceHumedad: 1.2,
    showToleranceHumedad: false,
    groupToleranceHumedad: true,
    availableGranosVerdes: true,
    percentGranosVerdes: 4.5,
    toleranceGranosVerdes: 0.8,
    showToleranceGranosVerdes: true,
    groupToleranceGranosVerdes: false,
    availableImpurezas: true,
    percentImpurezas: 2.5,
    toleranceImpurezas: 0.4,
    showToleranceImpurezas: false,
    groupToleranceImpurezas: true,
    availableVano: true,
    percentVano: 1.8,
    toleranceVano: 0.3,
    showToleranceVano: false,
    groupToleranceVano: true,
    availableHualcacho: true,
    percentHualcacho: 1.2,
    toleranceHualcacho: 0.2,
    showToleranceHualcacho: true,
    groupToleranceHualcacho: false,
    availableGranosPelados: true,
    percentGranosPelados: 2.8,
    toleranceGranosPelados: 0.6,
    showToleranceGranosPelados: false,
    groupToleranceGranosPelados: true,
    availableGranosYesosos: true,
    percentGranosYesosos: 3.2,
    toleranceGranosYesosos: 0.7,
    showToleranceGranosYesosos: true,
    groupToleranceGranosYesosos: false,
    availableGranosManchados: true,
    percentGranosManchados: 1.8,
    toleranceGranosManchados: 0.3,
    showToleranceGranosManchados: false,
    groupToleranceGranosManchados: true,
    availableBonificacion: true,
    toleranceBonificacion: 2.2,
    availableSecado: true,
    percentSecado: 14.5,
  }
];

async function createTemplates() {
  console.log('🚀 Iniciando creación de 10 plantillas de ejemplo...');
  console.log('📋 Las plantillas incluyen diferentes combinaciones de parámetros\n');

  const backendUrl = process.env.NEXT_PUBLIC_BACKEND_URL || 'http://localhost:3001';
  let successCount = 0;
  let errorCount = 0;

  for (let i = 0; i < sampleTemplates.length; i++) {
    const template = sampleTemplates[i];
    console.log(`📝 Creando plantilla ${i + 1}: ${template.name}...`);

    try {
      const response = await fetch(`${backendUrl}/template`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(template),
      });

      if (!response.ok) {
        const error = await response.json();
        console.error(`❌ Error: ${error.message || 'Error desconocido'}`);
        errorCount++;
      } else {
        const result = await response.json();
        console.log(`✅ Creada exitosamente con ID: ${result.id}`);
        successCount++;
      }
    } catch (error) {
      console.error(`❌ Error inesperado: ${error.message}`);
      errorCount++;
    }

    // Pequeña pausa entre creaciones
    await new Promise(resolve => setTimeout(resolve, 300));
  }

  console.log('\n=== RESUMEN FINAL ===');
  console.log(`✅ Plantillas creadas exitosamente: ${successCount}`);
  console.log(`❌ Errores: ${errorCount}`);
  console.log(`📊 Total procesadas: ${successCount + errorCount}`);
  
  if (successCount > 0) {
    console.log('\n🎉 ¡Plantillas creadas! Ahora puedes usarlas en el sistema de recepciones.');
  }
}

// Ejecutar
createTemplates().catch(console.error);
